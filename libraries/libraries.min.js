function Rlite(){function e(e){return e}function t(e){return~e.indexOf("/?")&&(e=e.replace("/?","?")),"/"==e[0]&&(e=e.slice(1)),"/"==e[e.length-1]&&(e=e.slice(0,-1)),e}function r(e,t){for(var r=e.split("/"),n=a,s={},o=0;o<r.length&&n;++o){var i=t(r[o]);n=n[i.toLowerCase()]||n[":"],n&&n[":"]&&(s[n[":"]]=i)}return n&&{cb:n["@"],params:s}}function n(e,t,r){if(e&&t.cb)for(var n=e.indexOf("#"),s=(0>n?e:e.slice(0,n)).split("&"),a=0;a<s.length;++a){var o=s[a].split("=");t.params[o[0]]=r(o[1])}return t}function s(s){var a=t(s).split("?"),i=~s.indexOf("%")?o:e;return n(a[1],r(a[0],i)||{},i)}var a={},o=decodeURIComponent;return{add:function(e,t){for(var r=e.toLowerCase().split("/"),n=a,s=0;s<r.length;++s){var o=r[s],i=":"==o[0]?":":o;n=n[i]||(n[i]={}),":"==i&&(n[":"]=o.slice(1))}n["@"]=t},exists:function(e){return!!s(e).cb},run:function(e){var t=s(e);return t.cb&&t.cb({url:e,params:t.params}),!!t.cb}}}!function(e){"use strict";function t(){this.frames=[],this.lastId=0,this.raf=r,this.batch={hash:{},read:[],write:[],mode:null}}var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)};t.prototype.read=function(e,t){var r=this.add("read",e,t),n=r.id;this.batch.read.push(r.id);var s="reading"===this.batch.mode||this.batch.scheduled;return s?n:(this.scheduleBatch(),n)},t.prototype.write=function(e,t){var r=this.add("write",e,t),n=this.batch.mode,s=r.id;this.batch.write.push(r.id);var a="writing"===n||"reading"===n||this.batch.scheduled;return a?s:(this.scheduleBatch(),s)},t.prototype.defer=function(e,t,r){"function"==typeof e&&(r=t,t=e,e=1);var n=this,s=e-1;return this.schedule(s,function(){n.run({fn:t,ctx:r})})},t.prototype.clear=function(e){if("function"==typeof e)return this.clearFrame(e);e=Number(e);var t=this.batch.hash[e];if(t){var r=this.batch[t.type],n=r.indexOf(e);delete this.batch.hash[e],~n&&r.splice(n,1)}},t.prototype.clearFrame=function(e){var t=this.frames.indexOf(e);~t&&this.frames.splice(t,1)},t.prototype.scheduleBatch=function(){var e=this;this.schedule(0,function(){e.batch.scheduled=!1,e.runBatch()}),this.batch.scheduled=!0},t.prototype.uniqueId=function(){return++this.lastId},t.prototype.flush=function(e){for(var t;t=e.shift();)this.run(this.batch.hash[t])},t.prototype.runBatch=function(){try{this.batch.mode="reading",this.flush(this.batch.read),this.batch.mode="writing",this.flush(this.batch.write),this.batch.mode=null}catch(e){throw this.runBatch(),e}},t.prototype.add=function(e,t,r){var n=this.uniqueId();return this.batch.hash[n]={id:n,fn:t,ctx:r,type:e}},t.prototype.run=function(e){var t=e.ctx||this,r=e.fn;if(delete this.batch.hash[e.id],!this.onError)return r.call(t);try{r.call(t)}catch(n){this.onError(n)}},t.prototype.loop=function(){var e=this,t=this.raf;this.looping||(t(function r(){var n=e.frames.shift();e.frames.length?t(r):e.looping=!1,n&&n()}),this.looping=!0)},t.prototype.schedule=function(e,t){return this.frames[e]?this.schedule(e+1,t):(this.loop(),this.frames[e]=t)},e=e||new t,"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.fastdom=e}(window.fastdom),function(e,t){"object"==typeof exports&&exports?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Mustache={})}(this,function(e){function t(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function n(e,t){return h.call(e,t)}function s(e){return!n(g,e)}function a(e){return String(e).replace(/[&<>"'\/]/g,function(e){return m[e]})}function o(t,n){function a(){if(x&&!P)for(;m.length;)delete g[m.pop()];else m=[];x=!1,P=!1}function o(e){if("string"==typeof e&&(e=e.split(v,2)),!d(e)||2!==e.length)throw new Error("Invalid tags: "+e);l=new RegExp(r(e[0])+"\\s*"),p=new RegExp("\\s*"+r(e[1])),f=new RegExp("\\s*"+r("}"+e[1]))}if(!t)return[];var l,p,f,h=[],g=[],m=[],x=!1,P=!1;o(n||e.tags);for(var E,T,C,S,A,F,L=new c(t);!L.eos();){if(E=L.pos,C=L.scanUntil(l))for(var B=0,I=C.length;I>B;++B)S=C.charAt(B),s(S)?m.push(g.length):P=!0,g.push(["text",S,E,E+1]),E+=1,"\n"===S&&a();if(!L.scan(l))break;if(x=!0,T=L.scan(k)||"name",L.scan(b),"="===T?(C=L.scanUntil(y),L.scan(y),L.scanUntil(p)):"{"===T?(C=L.scanUntil(f),L.scan(w),L.scanUntil(p),T="&"):C=L.scanUntil(p),!L.scan(p))throw new Error("Unclosed tag at "+L.pos);if(A=[T,C,E,L.pos],g.push(A),"#"===T||"^"===T)h.push(A);else if("/"===T){if(F=h.pop(),!F)throw new Error('Unopened section "'+C+'" at '+E);if(F[1]!==C)throw new Error('Unclosed section "'+F[1]+'" at '+E)}else"name"===T||"{"===T||"&"===T?P=!0:"="===T&&o(C)}if(F=h.pop())throw new Error('Unclosed section "'+F[1]+'" at '+L.pos);return u(i(g))}function i(e){for(var t,r,n=[],s=0,a=e.length;a>s;++s)t=e[s],t&&("text"===t[0]&&r&&"text"===r[0]?(r[1]+=t[1],r[3]=t[3]):(n.push(t),r=t));return n}function u(e){for(var t,r,n=[],s=n,a=[],o=0,i=e.length;i>o;++o)switch(t=e[o],t[0]){case"#":case"^":s.push(t),a.push(t),s=t[4]=[];break;case"/":r=a.pop(),r[5]=t[2],s=a.length>0?a[a.length-1][4]:n;break;default:s.push(t)}return n}function c(e){this.string=e,this.tail=e,this.pos=0}function l(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function p(){this.cache={}}var f=Object.prototype.toString,d=Array.isArray||function(e){return"[object Array]"===f.call(e)},h=RegExp.prototype.test,g=/\S/,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},b=/\s*/,v=/\s+/,y=/\s*=/,w=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;c.prototype.eos=function(){return""===this.tail},c.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var r=t[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},c.prototype.scanUntil=function(e){var t,r=this.tail.search(e);switch(r){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=t.length,t},l.prototype.push=function(e){return new l(e,this)},l.prototype.lookup=function(e){var r,n=this.cache;if(e in n)r=n[e];else{for(var s,a,o=this,i=!1;o;){if(e.indexOf(".")>0)for(r=o.view,s=e.split("."),a=0;null!=r&&a<s.length;)a===s.length-1&&null!=r&&(i="object"==typeof r&&r.hasOwnProperty(s[a])),r=r[s[a++]];else null!=o.view&&"object"==typeof o.view&&(r=o.view[e],i=o.view.hasOwnProperty(e));if(i)break;o=o.parent}n[e]=r}return t(r)&&(r=r.call(this.view)),r},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(e,t){var r=this.cache,n=r[e];return null==n&&(n=r[e]=o(e,t)),n},p.prototype.render=function(e,t,r){var n=this.parse(e),s=t instanceof l?t:new l(t);return this.renderTokens(n,s,r,e)},p.prototype.renderTokens=function(e,t,r,n){for(var s,a,o,i="",u=0,c=e.length;c>u;++u)o=void 0,s=e[u],a=s[0],"#"===a?o=this._renderSection(s,t,r,n):"^"===a?o=this._renderInverted(s,t,r,n):">"===a?o=this._renderPartial(s,t,r,n):"&"===a?o=this._unescapedValue(s,t):"name"===a?o=this._escapedValue(s,t):"text"===a&&(o=this._rawValue(s)),void 0!==o&&(i+=o);return i},p.prototype._renderSection=function(e,r,n,s){function a(e){return o.render(e,r,n)}var o=this,i="",u=r.lookup(e[1]);if(u){if(d(u))for(var c=0,l=u.length;l>c;++c)i+=this.renderTokens(e[4],r.push(u[c]),n,s);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)i+=this.renderTokens(e[4],r.push(u),n,s);else if(t(u)){if("string"!=typeof s)throw new Error("Cannot use higher-order sections without the original template");u=u.call(r.view,s.slice(e[3],e[5]),a),null!=u&&(i+=u)}else i+=this.renderTokens(e[4],r,n,s);return i}},p.prototype._renderInverted=function(e,t,r,n){var s=t.lookup(e[1]);return!s||d(s)&&0===s.length?this.renderTokens(e[4],t,r,n):void 0},p.prototype._renderPartial=function(e,r,n){if(n){var s=t(n)?n(e[1]):n[e[1]];return null!=s?this.renderTokens(this.parse(s),r,n,s):void 0}},p.prototype._unescapedValue=function(e,t){var r=t.lookup(e[1]);return null!=r?r:void 0},p.prototype._escapedValue=function(t,r){var n=r.lookup(t[1]);return null!=n?e.escape(n):void 0},p.prototype._rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.0.0",e.tags=["{{","}}"];var x=new p;e.clearCache=function(){return x.clearCache()},e.parse=function(e,t){return x.parse(e,t)},e.render=function(e,t,r){return x.render(e,t,r)},e.to_html=function(r,n,s,a){var o=e.render(r,n,s);return t(a)?void a(o):o},e.escape=a,e.Scanner=c,e.Context=l,e.Writer=p}),!function(e){"use strict";function t(){var e=["<div class='player-controls'>","<div class='player-progress'>","<label for='seek{id}' class='sr-only'>Seek</label>","<input id='seek{id}' class='player-progress-seek' type='range' min='0' max='100' step='0.5' value='0' data-player='seek'>","<progress class='player-progress-played' max='100' value='0'>","<span>0</span>% played","</progress>","<progress class='player-progress-buffer' max='100' value='0'>","<span>0</span>","</progress>","</div>","<span class='player-controls-left'>"];return a(E.controls,"restart")&&e.push("<button type='button' data-player='restart'>","<svg><use xlink:href='#icon-restart'></use></svg>","<span class='sr-only'>Restart</span>","</button>"),a(E.controls,"rewind")&&e.push("<button type='button' data-player='rewind'>","<svg><use xlink:href='#icon-rewind'></use></svg>","<span class='sr-only'>Rewind {seektime} secs</span>","</button>"),a(E.controls,"play")&&e.push("<button type='button' data-player='play'>","<svg><use xlink:href='#icon-play'></use></svg>","<span class='sr-only'>Play</span>","</button>","<button type='button' data-player='pause'>","<svg><use xlink:href='#icon-pause'></use></svg>","<span class='sr-only'>Pause</span>","</button>"),a(E.controls,"fast-forward")&&e.push("<button type='button' data-player='fast-forward'>","<svg><use xlink:href='#icon-fast-forward'></use></svg>","<span class='sr-only'>Forward {seektime} secs</span>","</button>"),a(E.controls,"current-time")&&e.push("<span class='player-time'>","<span class='sr-only'>Current time</span>","<span class='player-current-time'>00:00</span>","</span>"),a(E.controls,"duration")&&e.push("<span class='player-time'>","<span class='sr-only'>Duration</span>","<span class='player-duration'>00:00</span>","</span>"),e.push("</span>","<span class='player-controls-right'>"),a(E.controls,"mute")&&e.push("<input class='inverted sr-only' id='mute{id}' type='checkbox' data-player='mute'>","<label id='mute{id}' for='mute{id}'>","<svg class='icon-muted'><use xlink:href='#icon-muted'></use></svg>","<svg><use xlink:href='#icon-volume'></use></svg>","<span class='sr-only'>Toggle Mute</span>","</label>"),a(E.controls,"volume")&&e.push("<label for='volume{id}' class='sr-only'>Volume</label>","<input id='volume{id}' class='player-volume' type='range' min='0' max='10' value='5' data-player='volume'>"),a(E.controls,"captions")&&e.push("<input class='sr-only' id='captions{id}' type='checkbox' data-player='captions'>","<label for='captions{id}'>","<svg class='icon-captions-on'><use xlink:href='#icon-captions-on'></use></svg>","<svg><use xlink:href='#icon-captions-off'></use></svg>","<span class='sr-only'>Toggle Captions</span>","</label>"),a(E.controls,"fullscreen")&&e.push("<button type='button' data-player='fullscreen'>","<svg class='icon-exit-fullscreen'><use xlink:href='#icon-exit-fullscreen'></use></svg>","<svg><use xlink:href='#icon-enter-fullscreen'></use></svg>","<span class='sr-only'>Toggle Fullscreen</span>","</button>"),e.push("</span>","</div>"),e.join("")}function r(e,t){E.debug&&window.console&&console[t?"error":"log"](e)}function n(){var e,t,r,n=navigator.userAgent,s=navigator.appName,a=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10);return-1!==navigator.appVersion.indexOf("Windows NT")&&-1!==navigator.appVersion.indexOf("rv:11")?(s="IE",a="11;"):-1!==(t=n.indexOf("MSIE"))?(s="IE",a=n.substring(t+5)):-1!==(t=n.indexOf("Chrome"))?(s="Chrome",a=n.substring(t+7)):-1!==(t=n.indexOf("Safari"))?(s="Safari",a=n.substring(t+7),-1!==(t=n.indexOf("Version"))&&(a=n.substring(t+8))):-1!==(t=n.indexOf("Firefox"))?(s="Firefox",a=n.substring(t+8)):(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))&&(s=n.substring(e,t),a=n.substring(t+1),s.toLowerCase()==s.toUpperCase()&&(s=navigator.appName)),-1!==(r=a.indexOf(";"))&&(a=a.substring(0,r)),-1!==(r=a.indexOf(" "))&&(a=a.substring(0,r)),o=parseInt(""+a,10),isNaN(o)&&(a=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),{name:s,version:o,ios:/(iPad|iPhone|iPod)/g.test(navigator.platform)}}function s(e,t){var r=e.media;if("video"==e.type)switch(t){case"video/webm":return!(!r.canPlayType||!r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""));case"video/mp4":return!(!r.canPlayType||!r.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""));case"video/ogg":return!(!r.canPlayType||!r.canPlayType('video/ogg; codecs="theora"').replace(/no/,""))}else if("audio"==e.type)switch(t){case"audio/mpeg":return!(!r.canPlayType||!r.canPlayType("audio/mpeg;").replace(/no/,""));case"audio/ogg":return!(!r.canPlayType||!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""));case"audio/wav":return!(!r.canPlayType||!r.canPlayType('audio/wav; codecs="1"').replace(/no/,""))}return!1}function a(e,t){return Array.prototype.indexOf&&-1!=e.indexOf(t)}function o(e,t,r){return e.replace(new RegExp(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),r)}function i(e,t){e.length||(e=[e]);for(var r=e.length-1;r>=0;r--){var n=r>0?t.cloneNode(!0):t,s=e[r],a=s.parentNode,o=s.nextSibling;n.appendChild(s),o?a.insertBefore(n,o):a.appendChild(n)}}function u(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function c(e){e.parentNode.removeChild(e)}function l(e,t){e.insertBefore(t,e.firstChild)}function p(e,t){for(var r in t)e.setAttribute(r,t[r])}function f(e,t,r){if(e)if(e.classList)e.classList[r?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(/\s+/g," ").replace(" "+t+" ","");e.className=n+(r?" "+t:"")}}function d(e,t,r,n){var s=t.split(" ");if(e instanceof NodeList)for(var a=0;a<e.length;a++)e[a]instanceof Node&&d(e[a],arguments[1],arguments[2],arguments[3]);else for(var o=0;o<s.length;o++)e[n?"addEventListener":"removeEventListener"](s[o],r,!1)}function h(e,t,r){e&&d(e,t,r,!0)}function g(e,t,r){e&&d(e,t,r,!1)}function m(e,t){var r=document.createEvent("MouseEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}function b(e){return e.keyCode&&13!=e.keyCode?!0:(e.target.checked=!e.target.checked,void m(e.target,"change"))}function v(e,t){return 0===e||0===t||isNaN(e)||isNaN(t)?0:(e/t*100).toFixed(2)}function y(e,t){for(var r in t)t[r]&&t[r].constructor&&t[r].constructor===Object?(e[r]=e[r]||{},y(e[r],t[r])):e[r]=t[r];return e}function w(){var e={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",element:null,prefix:""},t="webkit moz o ms khtml".split(" ");if("undefined"!=typeof document.cancelFullScreen)e.supportsFullScreen=!0;else for(var r=0,n=t.length;n>r;r++){if(e.prefix=t[r],"undefined"!=typeof document[e.prefix+"CancelFullScreen"]){e.supportsFullScreen=!0;break}if("undefined"!=typeof document.msExitFullscreen&&document.msFullscreenEnabled){e.prefix="ms",e.supportsFullScreen=!0;break}}return"webkit"===e.prefix&&navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)&&(e.supportsFullScreen=!1),e.supportsFullScreen&&(e.fullScreenEventName="ms"==e.prefix?"MSFullscreenChange":e.prefix+"fullscreenchange",e.isFullScreen=function(e){switch("undefined"==typeof e&&(e=document),this.prefix){case"":return document.fullscreenElement==e;case"moz":return document.mozFullScreenElement==e;default:return document[this.prefix+"FullscreenElement"]==e}},e.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+("ms"==this.prefix?"RequestFullscreen":"RequestFullScreen")]("webkit"===this.prefix?e.ALLOW_KEYBOARD_INPUT:null)},e.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+("ms"==this.prefix?"ExitFullscreen":"CancelFullScreen")]()},e.element=function(){return""===this.prefix?document.fullscreenElement:document[this.prefix+"FullscreenElement"]}),e}function k(){var e={supported:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}()};return e}function x(a){function d(e){if(!oe.usingTextTracks&&"video"===oe.type&&oe.supported.full){for(oe.subcount=0,e="number"==typeof e?e:oe.media.currentTime;T(oe.captions[oe.subcount][0])<e.toFixed(1);)if(oe.subcount++,oe.subcount>oe.captions.length-1){oe.subcount=oe.captions.length-1;break}oe.media.currentTime.toFixed(1)>=x(oe.captions[oe.subcount][0])&&oe.media.currentTime.toFixed(1)<=T(oe.captions[oe.subcount][0])?(oe.currentCaption=oe.captions[oe.subcount][1],oe.captionsContainer.innerHTML=oe.currentCaption):oe.captionsContainer.innerHTML=""}}function y(){oe.buttons.captions&&(f(oe.container,E.classes.captions.enabled,!0),E.captions.defaultActive&&(f(oe.container,E.classes.captions.active,!0),oe.buttons.captions.checked=!0))}function x(e){var t=[];return t=e.split(" --> "),C(t[0])}function T(e){var t=[];return t=e.split(" --> "),C(t[1])}function C(e){if(null===e||void 0===e)return 0;var t,r=[],n=[];return r=e.split(","),n=r[0].split(":"),t=Math.floor(60*n[0]*60)+Math.floor(60*n[1])+Math.floor(n[2])}function S(e){return oe.container.querySelectorAll(e)}function A(e){return S(e)[0]}function F(){try{return window.self!==window.top}catch(e){return!0}}function L(){var e=E.html;if(r("Injecting custom controls."),e||(e=t()),e=o(e,"{seektime}",E.seekTime),e=o(e,"{id}",Math.floor(1e4*Math.random())),oe.container.insertAdjacentHTML("beforeend",e),E.tooltips)for(var n=S(E.selectors.labels),s=n.length-1;s>=0;s--){var a=n[s];f(a,E.classes.hidden,!1),f(a,E.classes.tooltip,!0)}}function B(){try{return oe.controls=A(E.selectors.controls),oe.buttons={},oe.buttons.seek=A(E.selectors.buttons.seek),oe.buttons.play=A(E.selectors.buttons.play),oe.buttons.pause=A(E.selectors.buttons.pause),oe.buttons.restart=A(E.selectors.buttons.restart),oe.buttons.rewind=A(E.selectors.buttons.rewind),oe.buttons.forward=A(E.selectors.buttons.forward),oe.buttons.fullscreen=A(E.selectors.buttons.fullscreen),oe.buttons.mute=A(E.selectors.buttons.mute),oe.buttons.captions=A(E.selectors.buttons.captions),oe.checkboxes=S("[type='checkbox']"),oe.progress={},oe.progress.container=A(E.selectors.progress.container),oe.progress.buffer={},oe.progress.buffer.bar=A(E.selectors.progress.buffer),oe.progress.buffer.text=oe.progress.buffer.bar&&oe.progress.buffer.bar.getElementsByTagName("span")[0],oe.progress.played={},oe.progress.played.bar=A(E.selectors.progress.played),oe.progress.played.text=oe.progress.played.bar&&oe.progress.played.bar.getElementsByTagName("span")[0],oe.volume=A(E.selectors.buttons.volume),oe.duration=A(E.selectors.duration),oe.currentTime=A(E.selectors.currentTime),oe.seekTime=S(E.selectors.seekTime),!0}catch(e){return r("It looks like there's a problem with your controls html. Bailing.",!0),oe.media.setAttribute("controls",""),!1}}function I(){if(oe.buttons.play){var e=oe.buttons.play.innerText||"Play";"undefined"!=typeof E.title&&E.title.length&&(e+=", "+E.title),oe.buttons.play.setAttribute("aria-label",e)}}function N(){if(!oe.media)return r("No audio or video element found!",!0),!1;if(oe.supported.full&&(oe.media.removeAttribute("controls"),f(oe.container,E.classes[oe.type],!0),f(oe.container,E.classes.stopped,null===oe.media.getAttribute("autoplay")),oe.browser.ios&&f(oe.container,"ios",!0),"video"===oe.type)){var e=document.createElement("div");e.setAttribute("class",E.classes.videoWrapper),i(oe.media,e),oe.videoContainer=e}null!==oe.media.getAttribute("autoplay")&&M()}function $(){if("video"===oe.type){oe.videoContainer.insertAdjacentHTML("afterbegin","<div class='"+E.selectors.captions.replace(".","")+"'></div>"),oe.captionsContainer=A(E.selectors.captions),oe.usingTextTracks=!1,oe.media.textTracks&&(oe.usingTextTracks=!0);for(var e,t="",n=oe.media.childNodes,s=0;s<n.length;s++)"track"===n[s].nodeName.toLowerCase()&&(e=n[s].getAttribute("kind"),"captions"===e&&(t=n[s].getAttribute("src")));if(oe.captionExists=!0,""===t?(oe.captionExists=!1,r("No caption track found.")):r("Caption track found; URI: "+t),oe.captionExists){for(var a=oe.media.textTracks,o=0;o<a.length;o++)a[o].mode="hidden";if(y(oe),("IE"===oe.browser.name&&10===oe.browser.version||"IE"===oe.browser.name&&11===oe.browser.version||"Firefox"===oe.browser.name&&oe.browser.version>=31||"Safari"===oe.browser.name&&oe.browser.version>=7)&&(r("Detected IE 10/11 or Firefox 31+ or Safari 7+."),oe.usingTextTracks=!1),oe.usingTextTracks){r("TextTracks supported.");for(var i=0;i<a.length;i++){var u=a[i];"captions"===u.kind&&h(u,"cuechange",function(){oe.captionsContainer.innerHTML="",this.activeCues[0]&&this.activeCues[0].hasOwnProperty("text")&&oe.captionsContainer.appendChild(this.activeCues[0].getCueAsHTML())})}}else if(r("TextTracks not supported so rendering captions manually."),oe.currentCaption="",oe.captions=[],""!==t){var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState)if(200===c.status){var e,t=[],n=c.responseText;t=n.split("\n\n");for(var s=0;s<t.length;s++)e=t[s],oe.captions[s]=[],oe.captions[s]=e.split("\n");oe.captions.shift(),r("Successfully loaded the caption file via AJAX.")}else r("There was a problem loading the caption file via AJAX.",!0)},c.open("get",t,!0),c.send()}if("Safari"===oe.browser.name&&oe.browser.version>=7){r("Safari 7+ detected; removing track from DOM."),a=oe.media.getElementsByTagName("track");for(var l=0;l<a.length;l++)oe.media.removeChild(a[l])}}else f(oe.container,E.classes.captions.enabled)}}function O(){if("video"===oe.type&&E.fullscreen.enabled){var e=P.supportsFullScreen;e||E.fullscreen.fallback&&!F()?(r((e?"Native":"Fallback")+" fullscreen enabled."),f(oe.container,E.classes.fullscreen.enabled,!0)):r("Fullscreen not supported and fallback disabled."),E.fullscreen.hideControls&&f(oe.container,E.classes.fullscreen.hideControls,!0)}}function M(){oe.media.play()}function _(){oe.media.pause()}function j(e){"number"!=typeof e&&(e=E.seekTime),q(oe.media.currentTime-e)}function U(e){"number"!=typeof e&&(e=E.seekTime),q(oe.media.currentTime+e)}function q(e){var t=0;"number"==typeof e?t=e:"object"!=typeof e||"input"!==e.type&&"change"!==e.type||(t=e.target.value/e.target.max*oe.media.duration),0>t?t=0:t>oe.media.duration&&(t=oe.media.duration);try{oe.media.currentTime=t.toFixed(1)}catch(n){}r("Seeking to "+oe.media.currentTime+" seconds"),d(t)}function H(){f(oe.container,E.classes.playing,!oe.media.paused),f(oe.container,E.classes.stopped,oe.media.paused)}function R(e){var t=P.supportsFullScreen;e&&e.type===P.fullScreenEventName?oe.isFullscreen=P.isFullScreen(oe.container):t?(P.isFullScreen(oe.container)?P.cancelFullScreen():P.requestFullScreen(oe.container),oe.isFullscreen=P.isFullScreen(oe.container)):(oe.isFullscreen=!oe.isFullscreen,oe.isFullscreen?(h(document,"keyup",V),document.body.style.overflow="hidden"):(g(document,"keyup",V),document.body.style.overflow="")),f(oe.container,E.classes.fullscreen.active,oe.isFullscreen),oe.isFullscreen&&f(oe.controls,E.classes.hover,!1)}function V(e){27===(e.which||e.charCode||e.keyCode)&&oe.isFullscreen&&R()}function D(e){"undefined"==typeof e&&(e=E.storage.enabled&&k().supported?window.localStorage[E.storage.key]||E.volume:E.volume),r(e),e>10&&(e=10),0>e&&(e=0),oe.media.volume=parseFloat(e/10),oe.media.muted&&e>0&&K()}function K(e){"undefined"==typeof e&&(e=!oe.media.muted),oe.media.muted=e}function G(){var e=oe.media.muted?0:10*oe.media.volume;oe.supported.full&&oe.volume&&(oe.volume.value=e),E.storage.enabled&&k().supported&&window.localStorage.setItem(E.storage.key,e),f(oe.container,E.classes.muted,0===e),oe.supported.full&&oe.buttons.mute&&(oe.buttons.mute.checked=0===e)}function W(e){oe.supported.full&&oe.buttons.captions&&("undefined"==typeof e&&(e=-1===oe.container.className.indexOf(E.classes.captions.active),oe.buttons.captions.checked=e),f(oe.container,E.classes.captions.active,e))}function z(e){var t="waiting"===e.type;clearTimeout(oe.loadingTimer),oe.loadingTimer=setTimeout(function(){f(oe.container,E.classes.loading,t)},t?250:0)}function X(e){var t=oe.progress.played.bar,r=oe.progress.played.text,n=0;if(e)switch(e.type){case"timeupdate":case"seeking":n=v(oe.media.currentTime,oe.media.duration),"timeupdate"==e.type&&oe.buttons.seek&&(oe.buttons.seek.value=n);break;case"change":case"input":n=e.target.value;break;case"playing":case"progress":t=oe.progress.buffer.bar,r=oe.progress.buffer.text,n=function(){var e=oe.media.buffered;return e.length?v(e.end(0),oe.media.duration):0}()}t&&(t.value=n),r&&(r.innerHTML=n)}function J(e,t){if(t){oe.secs=parseInt(e%60),oe.mins=parseInt(e/60%60),oe.hours=parseInt(e/60/60%60);var r=parseInt(oe.media.duration/60/60%60)>0;oe.secs=("0"+oe.secs).slice(-2),oe.mins=("0"+oe.mins).slice(-2),t.innerHTML=(r?oe.hours+":":"")+oe.mins+":"+oe.secs}}function Q(){var e=oe.media.duration||0;!oe.duration&&E.displayDuration&&oe.media.paused&&J(e,oe.currentTime),oe.duration&&J(e,oe.duration)}function Y(e){J(oe.media.currentTime,oe.currentTime),X(e)}function Z(){for(var e=oe.media.querySelectorAll("source"),t=e.length-1;t>=0;t--)c(e[t]);oe.media.removeAttribute("src")}function ee(e){if(e.src){var t=document.createElement("source");p(t,e),l(oe.media,t)}}function te(e){if(_(),q(),Z(),"string"==typeof e)oe.media.setAttribute("src",e);else if(e.constructor===Array)for(var t in e)ee(e[t]);oe.supported.full&&(Y(),H()),oe.media.load(),null!==oe.media.getAttribute("autoplay")&&M()}function re(e){"video"===oe.type&&oe.media.setAttribute("poster",e)}function ne(){var e="IE"==oe.browser.name?"change":"input";h(oe.buttons.play,"click",function(){M(),setTimeout(function(){oe.buttons.pause.focus()},100)}),h(oe.buttons.pause,"click",function(){_(),setTimeout(function(){oe.buttons.play.focus()},100)}),h(oe.buttons.restart,"click",q),h(oe.buttons.rewind,"click",j),h(oe.buttons.forward,"click",U),h(oe.buttons.seek,e,q),h(oe.volume,e,function(){D(this.value)}),h(oe.buttons.mute,"change",function(){K(this.checked)}),h(oe.buttons.fullscreen,"click",R),P.supportsFullScreen&&h(document,P.fullScreenEventName,R),h(oe.media,"timeupdate seeking",Y),h(oe.media,"timeupdate",d),h(oe.media,"loadedmetadata",Q),h(oe.buttons.captions,"change",function(){W(this.checked)}),h(oe.media,"ended",function(){"video"===oe.type&&(oe.captionsContainer.innerHTML=""),H()}),h(oe.media,"progress",X),h(oe.media,"playing",X),h(oe.media,"volumechange",G),h(oe.media,"play pause",H),h(oe.media,"waiting canplay seeked",z),h(oe.checkboxes,"keyup",b),"video"===oe.type&&E.click&&h(oe.videoContainer,"click",function(){oe.media.paused?m(oe.buttons.play,"click"):oe.media.ended?(q(),m(oe.buttons.play,"click")):m(oe.buttons.pause,"click")}),E.fullscreen.hideControls&&h(oe.controls,"mouseenter mouseleave",function(e){f(oe.controls,E.classes.hover,"mouseenter"===e.type)})}function se(){if(!oe.init)return null;oe.container.setAttribute("class",E.selectors.container.replace(".","")),c(A(E.selectors.controls)),"video"===oe.type&&(c(A(E.selectors.captions)),u(oe.videoContainer)),oe.media.setAttribute("controls","");var e=oe.media.cloneNode(!0);oe.media.parentNode.replaceChild(e,oe.media),oe.init=!1}function ae(){if(oe.init)return null;if(P=w(),oe.browser=n(),oe.media=oe.container.querySelectorAll("audio, video")[0],oe.type=oe.media.tagName.toLowerCase(),oe.supported=e.supported(oe.type),!oe.supported.basic)return!1;if(r(oe.browser.name+" "+oe.browser.version),N(),oe.supported.full){if(L(),!B())return!1;E.displayDuration&&Q(),I(),$(),D(),G(),O(),ne()}oe.init=!0}var oe=this;return oe.container=a,ae(),oe.init?{media:oe.media,play:M,pause:_,restart:q,rewind:j,forward:U,seek:q,source:te,poster:re,setVolume:D,toggleMute:K,toggleCaptions:W,toggleFullscreen:R,isFullscreen:function(){return oe.isFullscreen||!1},support:function(e){return s(oe,e)},destroy:se,restore:ae}:{}}var P,E,T={enabled:!0,debug:!1,seekTime:10,volume:5,click:!0,tooltips:!1,displayDuration:!0,selectors:{container:".player",controls:".player-controls",labels:"[data-player] .sr-only, label .sr-only",buttons:{seek:"[data-player='seek']",play:"[data-player='play']",pause:"[data-player='pause']",restart:"[data-player='restart']",rewind:"[data-player='rewind']",forward:"[data-player='fast-forward']",mute:"[data-player='mute']",volume:"[data-player='volume']",captions:"[data-player='captions']",fullscreen:"[data-player='fullscreen']"},progress:{container:".player-progress",buffer:".player-progress-buffer",played:".player-progress-played"},captions:".player-captions",currentTime:".player-current-time",duration:".player-duration"},classes:{video:"player-video",videoWrapper:"player-video-wrapper",audio:"player-audio",stopped:"stopped",playing:"playing",muted:"muted",loading:"loading",tooltip:"player-tooltip",hidden:"sr-only",hover:"hover",captions:{enabled:"captions-enabled",active:"captions-active"},fullscreen:{enabled:"fullscreen-enabled",active:"fullscreen-active",hideControls:"fullscreen-hide-controls"}},captions:{defaultActive:!1},fullscreen:{enabled:!0,fallback:!0,hideControls:!0},storage:{enabled:!0,key:"plyr_volume"},controls:["restart","rewind","play","fast-forward","current-time","duration","mute","volume","captions","fullscreen"],onSetup:function(){}};e.supported=function(e){var t,r,s=n(),a="IE"===s.name&&s.version<=9,o=/iPhone|iPod/i.test(navigator.userAgent),i=!!document.createElement("audio").canPlayType,u=!!document.createElement("video").canPlayType;switch(e){case"video":t=u,r=t&&!a&&!o;break;case"audio":t=i,r=t&&!a;break;default:t=i&&u,r=t&&!a}return{basic:t,full:r}},e.setup=function(t){if(E=y(T,t),!E.enabled||!e.supported().basic)return!1;for(var r=document.querySelectorAll(E.selectors.container),n=[],s=r.length-1;s>=0;s--){var a=r[s];if("undefined"==typeof a.plyr){var o=new x(a);a.plyr=Object.keys(o).length?o:!1,E.onSetup.apply(a.plyr)}n.push(a.plyr)}return n}}(this.plyr=this.plyr||{}),!function(){function e(e){global.setImmediate?setImmediate(e):global.importScripts?setTimeout(e):(r++,n[r]=e,global.postMessage(r,"*"))}function t(r){function n(e,t,r,n){if("object"!=typeof c&&"function"!=typeof c||"function"!=typeof e)n();else try{var s=0;e.call(c,function(e){s++||(c=e,t())},function(e){s++||(c=e,r())})}catch(a){c=a,r()}}function s(){var e;try{e=c&&c.then}catch(t){return c=t,u=2,s()}n(e,function(){u=1,s()},function(){u=2,s()},function(){try{1==u&&"function"==typeof a?c=a(c):2==u&&"function"==typeof o&&(c=o(c),u=1)}catch(t){return c=t,p()}c==i?(c=TypeError(),p()):n(e,function(){p(3)},p,function(){p(1==u&&3)})})}if("function"!=typeof r&&void 0!=r)throw TypeError();var a,o,i=this,u=0,c=0,l=[];i.promise=i,i.resolve=function(t){return a=this.fn,o=this.er,u||(c=t,u=1,e(s)),this},i.reject=function(t){return a=this.fn,o=this.er,u||(c=t,u=2,e(s)),this},i.then=function(e,r){var n=new t;return n.fn=e,n.er=r,3==u?n.resolve(c):4==u?n.reject(c):l.push(n),n},i["catch"]=function(e){return i.then(null,e)};var p=function(e){u=e||4,l.map(function(e){3==u&&e.resolve(c)||e.reject(c)})};try{"function"==typeof r&&r(i.resolve,i.reject)}catch(f){i.reject(f)}return i}global=this;var r=1,n={},s=!1;global.setImmediate||global.addEventListener("message",function(t){if(t.source==global)if(s)e(n[t.data]);else{s=!0;try{n[t.data]()}catch(t){}delete n[t.data],s=!1}}),t.resolve=function(e){if(1!=this._d)throw TypeError();return new t(function(t){t(e)})},t.reject=function(e){if(1!=this._d)throw TypeError();return new t(function(t,r){r(e)})},t.all=function(e){function r(t,s){if(s)return n.resolve(s);if(t)return n.reject(t);var a=e.reduce(function(e,t){return t&&t.then?e+1:e},0);0==a&&n.resolve(e),e.map(function(t,n){t&&t.then&&t.then(function(t){return e[n]=t,r(),t},r)})}if(1!=this._d)throw TypeError();if(!(e instanceof Array))return t.reject(TypeError());var n=new t;return r(),n},t.race=function(e){function r(t,s){if(s)return n.resolve(s);

if(t)return n.reject(t);var a=e.reduce(function(e,t){return t&&t.then?e+1:e},0);0==a&&n.resolve(e),e.map(function(e,t){e&&e.then&&e.then(function(e){r(null,e)},r)})}if(1!=this._d)throw TypeError();if(!(e instanceof Array))return t.reject(TypeError());if(0==e.length)return new t;var n=new t;return r(),n},t._d=1,"undefined"!=typeof module?module.exports=t:global.Promise=global.Promise||t}(),!function(e,t){var r=e.define;r&&r.amd?r([],t):"undefined"!=typeof module&&module.exports&&(module.exports=t())}(this,function(){return Rlite}),function(){function e(e){"use strict";if(!a.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return a[e]}function t(e,t){"use strict";if("object"!=typeof t)throw Error("A Showdown Extension must be an object, "+typeof t+" given");if(!n.helper.isString(t.type))throw Error('When registering a showdown extension, "type" must be a string, '+typeof t.type+" given");t.type=t.type.toLowerCase(),a[e]=t}function r(e,t){"use strict";var r=t.charCodeAt(0);return"~E"+r+"E"}var n={},s={},a={},o={omitExtraWLInCodeBlocks:!1,prefixHeaderId:!1};n.helper={},n.extensions={},n.setOption=function(e,t){"use strict";return o[e]=t,this},n.getOption=function(e){"use strict";return o[e]},n.getOptions=function(){"use strict";return o},n.subParser=function(e,t){"use strict";if(n.helper.isString(e)){if("undefined"==typeof t){if(s.hasOwnProperty(e))return s[e];throw Error("SubParser named "+e+" not registered!")}s[e]=t}},n.extension=function(r,s){"use strict";if(!n.helper.isString(r))throw Error("Extension 'name' must be a string");return r=n.helper.stdExtName(r),n.helper.isUndefined(s)?e():t()},n.Converter=function(e){"use strict";function t(e){if(!e)return e;var t={gHtmlBlocks:[],gUrls:{},gTitles:{},gListLevel:0,hashLinkCounts:{},langExtensions:i,outputModifiers:u};e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=s.detab(e,r,t),e=s.stripBlankLines(e,r,t),e=s.languageExtensions(e,r,t);for(var a=0;a<c.length;++a){var o=c[a];e=s[o](e,r,t)}return e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),n.helper.forEach(t.outputModifiers,function(t){e=n.subParser("runExtension")(t,e)}),e=s.outputModifiers(e,r,t)}e=e||{};var r=o,i=[],u=[],c=["githubCodeBlocks","hashHTMLBlocks","stripLinkDefinitions","blockGamut","unescapeSpecialChars"];if("object"==typeof e)for(var l in e)e.hasOwnProperty(l)&&(r[l]=e[l]);var p=this;return p.makeHtml=t,r.extensions&&n.helper.forEach(r.extensions,function(e){var t=e;if("string"==typeof e){var r=n.helper.stdExtName(e);!n.helper.isUndefined(n.extensions[r])&&n.extensions[r]?e=n.extensions[r]:n.helper.isUndefined(a[r])||(e=a[r])}if("function"!=typeof e){var s="An extension could not be loaded. It was either not found or is not a valid extension.";throw"string"==typeof t&&(s='Extension "'+t+'" could not be loaded.  It was either not found or is not a valid extension.'),s}n.helper.forEach(e(p),function(e){e.type?"language"===e.type||"lang"===e.type?i.push(e):("output"===e.type||"html"===e.type)&&u.push(e):u.push(e)})}),{makeHtml:t}},n.hasOwnProperty("helper")||(n.helper={}),n.helper.isString=function(e){"use strict";return"string"==typeof e||e instanceof String},n.helper.forEach=function(e,t){"use strict";if("function"==typeof e.forEach)e.forEach(t);else for(var r=0;r<e.length;r++)t(e[r],r,e)},n.helper.isArray=function(e){"use strict";return e.constructor===Array},n.helper.isUndefined=function(e){"use strict";return"undefined"==typeof e},n.helper.stdExtName=function(e){"use strict";return e.replace(/[_-]||\s/g,"").toLowerCase()},n.helper.escapeCharactersCallback=r,n.helper.escapeCharacters=function(e,t,n){"use strict";var s="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(s="\\\\"+s);var a=new RegExp(s,"g");return e=e.replace(a,r)},n.subParser("anchors",function(e,t,r){"use strict";var s=function(e,t,s,a,o,i,u,c){n.helper.isUndefined(c)&&(c=""),e=t;var l=s,p=a.toLowerCase(),f=o,d=c;if(!f)if(p||(p=l.toLowerCase().replace(/ ?\n/g," ")),f="#"+p,n.helper.isUndefined(r.gUrls[p])){if(!(e.search(/\(\s*\)$/m)>-1))return e;f=""}else f=r.gUrls[p],n.helper.isUndefined(r.gTitles[p])||(d=r.gTitles[p]);f=n.helper.escapeCharacters(f,"*_",!1);var h='<a href="'+f+'"';return""!==d&&null!==d&&(d=d.replace(/"/g,"&quot;"),d=n.helper.escapeCharacters(d,"*_",!1),h+=' title="'+d+'"'),h+=">"+l+"</a>"};return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,s),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,s),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,s)}),n.subParser("autoLinks",function(e){"use strict";e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>');var t=/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;return e=e.replace(t,function(e,t){var r=n.subParser("unescapeSpecialChars")(t);return n.subParser("encodeEmailAddress")(r)})}),n.subParser("blockGamut",function(e,t,r){"use strict";e=n.subParser("headers")(e,t,r);var s=n.subParser("hashBlock")("<hr />",t,r);return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,s),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,s),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,s),e=n.subParser("lists")(e,t,r),e=n.subParser("codeBlocks")(e,t,r),e=n.subParser("blockQuotes")(e,t,r),e=n.subParser("hashHTMLBlocks")(e,t,r),e=n.subParser("paragraphs")(e,t,r)}),n.subParser("blockQuotes",function(e,t,r){"use strict";return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,s){var a=s;return a=a.replace(/^[ \t]*>[ \t]?/gm,"~0"),a=a.replace(/~0/g,""),a=a.replace(/^[ \t]+$/gm,""),a=n.subParser("blockGamut")(a,t,r),a=a.replace(/(^|\n)/g,"$1  "),a=a.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var r=t;return r=r.replace(/^  /gm,"~0"),r=r.replace(/~0/g,"")}),n.subParser("hashBlock")("<blockquote>\n"+a+"\n</blockquote>",t,r)})}),n.subParser("codeBlocks",function(e,t,r){"use strict";e+="~0";var s=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;return e=e.replace(s,function(e,s,a){var o=s,i=a;return o=n.subParser("outdent")(o),o=n.subParser("encodeCode")(o),o=n.subParser("detab")(o),o=o.replace(/^\n+/g,""),o=o.replace(/\n+$/g,""),o="<pre><code>"+o+"\n</code></pre>",n.subParser("hashBlock")(o,t,r)+i}),e=e.replace(/~0/,"")}),n.subParser("codeSpans",function(e){"use strict";return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,r,s){var a=s;return a=a.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,""),a=n.subParser("encodeCode")(a),t+"<code>"+a+"</code>"})}),n.subParser("detab",function(e){"use strict";return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,t){for(var r=t,n=4-r.length%4,s=0;n>s;s++)r+=" ";return r}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")}),n.subParser("encodeAmpsAndAngles",function(e){"use strict";return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}),n.subParser("encodeBackslashEscapes",function(e){"use strict";return e=e.replace(/\\(\\)/g,n.helper.escapeCharactersCallback),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,n.helper.escapeCharactersCallback)}),n.subParser("encodeCode",function(e){"use strict";return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=n.helper.escapeCharacters(e,"*_{}[]\\",!1)}),n.subParser("encodeEmailAddress",function(e){"use strict";var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else if(":"!==e){var r=Math.random();e=r>.9?t[2](e):r>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')}),n.subParser("escapeSpecialCharsWithinTagAttributes",function(e){"use strict";var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=n.helper.escapeCharacters(t,"\\`*_",!1)})}),n.subParser("githubCodeBlocks",function(e,t,r){"use strict";return e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,s,a){var o=s,i=a,u="\n";return t.omitExtraWLInCodeBlocks&&(u=""),i=n.subParser("encodeCode")(i),i=n.subParser("detab")(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code"+(o?' class="'+o+'"':"")+">"+i+u+"</code></pre>",n.subParser("hashBlock")(i,t,r)}),e=e.replace(/~0/,"")}),n.subParser("hashBlock",function(e,t,r){"use strict";return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(r.gHtmlBlocks.push(e)-1)+"K\n\n"}),n.subParser("hashElement",function(e,t,r){"use strict";return function(e,t){var n=t;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(r.gHtmlBlocks.push(n)-1)+"K\n\n"}}),n.subParser("hashHTMLBlocks",function(e,t,r){"use strict";return e=e.replace(/\n/g,"\n\n"),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,n.subParser("hashElement")(e,t,r)),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside|address|audio|canvas|figure|hgroup|output|video)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,n.subParser("hashElement")(e,t,r)),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(e,t,r)),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(e,t,r)),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n.subParser("hashElement")(e,t,r)),e=e.replace(/\n\n/g,"\n")}),n.subParser("headers",function(e,t,r){"use strict";function s(e){var t,s=e.replace(/[^\w]/g,"").toLowerCase();return r.hashLinkCounts[s]?t=s+"-"+r.hashLinkCounts[s]++:(t=s,r.hashLinkCounts[s]=1),a===!0&&(a="section"),n.helper.isString(a)?a+t:t}var a=t.prefixHeaderId;return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,a){var o=n.subParser("spanGamut")(a,t,r),i='<h1 id="'+s(a)+'">'+o+"</h1>";return n.subParser("hashBlock")(i,t,r)}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,a){var o=n.subParser("spanGamut")(a,t,r),i='<h2 id="'+s(a)+'">'+o+"</h2>";return n.subParser("hashBlock")(i,t,r)}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,a,o){var i=n.subParser("spanGamut")(o,t,r),u="<h"+a.length+' id="'+s(o)+'">'+i+"</h"+a.length+">";return n.subParser("hashBlock")(u,t,r)})}),n.subParser("images",function(e,t,r){"use strict";var s=function(e,t,s,a,o,i,u,c){e=t;var l=s,p=a.toLowerCase(),f=o,d=c,h=r.gUrls,g=r.gTitles;if(d||(d=""),""===f||null===f){if((""===p||null===p)&&(p=l.toLowerCase().replace(/ ?\n/g," ")),f="#"+p,"undefined"==typeof h[p])return e;f=h[p],"undefined"!=typeof g[p]&&(d=g[p])}l=l.replace(/"/g,"&quot;"),f=n.helper.escapeCharacters(f,"*_",!1);var m='<img src="'+f+'" alt="'+l+'"';return d=d.replace(/"/g,"&quot;"),d=n.helper.escapeCharacters(d,"*_",!1),m+=' title="'+d+'"',m+=" />"};return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,s),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,s)}),n.subParser("italicsAndBold",function(e){"use strict";return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")}),n.subParser("languageExtensions",function(e,t,r){"use strict";return n.helper.forEach(r.langExtensions,function(t){e=n.subParser("runExtension")(t,e)}),e}),n.subParser("lists",function(e,t,r){"use strict";var s=function(e){return r.gListLevel++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,s,a,o,i){var u=n.subParser("outdent")(i,t,r);return s||u.search(/\n{2,}/)>-1?u=n.subParser("blockGamut")(u,t,r):(u=n.subParser("lists")(u,t,r),u=u.replace(/\n$/,""),u=n.subParser("spanGamut")(u,t,r)),"<li>"+u+"</li>\n"}),e=e.replace(/~0/g,""),r.gListLevel--,e};e+="~0";var a=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return r.gListLevel?e=e.replace(a,function(e,t,r){var n=t,a=r.search(/[*+-]/g)>-1?"ul":"ol";n=n.replace(/\n{2,}/g,"\n\n\n");var o=s(n);return o=o.replace(/\s+$/,""),o="<"+a+">"+o+"</"+a+">\n"}):(a=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(a,function(e,t,r,n){var a=r.replace(/\n{2,}/g,"\n\n\n"),o=n.search(/[*+-]/g)>-1?"ul":"ol",i=s(a);return t+"<"+o+">\n"+i+"</"+o+">\n"})),e=e.replace(/~0/,"")}),n.subParser("outdent",function(e){"use strict";return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}),n.subParser("outputModifiers",function(e,t,r){"use strict";return n.helper.forEach(r.outputModifiers,function(t){e=n.subParser("runExtension")(t,e)}),e}),n.subParser("paragraphs",function(e,t,r){"use strict";e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var s=e.split(/\n{2,}/g),a=[],o=s.length,i=0;o>i;i++){var u=s[i];u.search(/~K(\d+)K/g)>=0?a.push(u):u.search(/\S/)>=0&&(u=n.subParser("spanGamut")(u,t,r),u=u.replace(/^([ \t]*)/g,"<p>"),u+="</p>",a.push(u))}for(o=a.length,i=0;o>i;i++)for(;a[i].search(/~K(\d+)K/)>=0;){var c=r.gHtmlBlocks[RegExp.$1];c=c.replace(/\$/g,"$$$$"),a[i]=a[i].replace(/~K\d+K/,c)}return a.join("\n\n")}),n.subParser("runExtension",function(e,t){"use strict";if(e.regex){var r=new RegExp(e.regex,"g");return t.replace(r,e.replace)}return e.filter?e.filter(t):void 0}),n.subParser("spanGamut",function(e,t,r){"use strict";return e=n.subParser("codeSpans")(e,t,r),e=n.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,r),e=n.subParser("encodeBackslashEscapes")(e,t,r),e=n.subParser("images")(e,t,r),e=n.subParser("anchors")(e,t,r),e=n.subParser("autoLinks")(e,t,r),e=n.subParser("encodeAmpsAndAngles")(e,t,r),e=n.subParser("italicsAndBold")(e,t,r),e=e.replace(/  +\n/g," <br />\n")}),n.subParser("stripBlankLines",function(e){"use strict";return e.replace(/^[ \t]+$/gm,"")}),n.subParser("stripLinkDefinitions",function(e,t,r){"use strict";var s=/^[ ]{0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm;return e+="~0",e=e.replace(s,function(e,t,s,a,o){return t=t.toLowerCase(),r.gUrls[t]=n.subParser("encodeAmpsAndAngles")(s),a?a+o:(o&&(r.gTitles[t]=o.replace(/"/g,"&quot;")),"")}),e=e.replace(/~0/,"")}),n.subParser("unescapeSpecialChars",function(e){"use strict";return e=e.replace(/~E(\d+)E/g,function(e,t){var r=parseInt(t);return String.fromCharCode(r)})});var i=this;"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define("showdown",function(){"use strict";return n}):i.showdown=n}.call(this);